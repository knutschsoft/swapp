{% extends 'base.html.twig' %}

{% block content %}
    <div class="swapp-headline-container">
        <h1>
            Streetwork-Runde: {{ walk.getName }}
        </h1>
    </div>
    <div class="swapp-password-change-container">
        <div class="mb1">
            <a href="{{ path('walk_home_screen') }}" class="btn btn-primary">zur Rundenübersicht</a>
        </div>
    </div>

    {{ include(':Walks:showItem.html.twig', {'key': 'Name', 'value': walk.getName }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Tageskonzept', 'value': walk.getConceptOfDay }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Ferien', 'value': walk.getHolidays ? 'ja' : 'nein'}) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Wetter', 'value': walk.getWeather }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Beginn', 'value': walk.getStartTime|localizeddate('long', 'medium') }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Ende', 'value': walk.getEndTime|localizeddate('long', 'medium') }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Systemische Frage', 'value': walk.getSystemicQuestion }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Systemische Antwort', 'value': walk.getSystemicAnswer }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Reflexion', 'value': walk.getWalkReflection }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Bewertung', 'value': walk.getRating }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Termine, Besorgungen, Verabredungen', 'value': walk.commitments}) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Erkenntnisse, Überlegungen, Zielsettungen', 'value': walk.insights }) }}
    {{ include(':Walks:showItem.html.twig', {'key': 'Wiedervorlage Dienstberatung', 'value': walk.isResubmission ? 'ja' : 'nein'}) }}

    {% set users %}
        {% for user in walk.getWalkTeamMembers %}
            {{ user.getUsername }}
        {% else %}
            keine Teilnehmer
        {% endfor %}
    {% endset %}
    {{ include(':Walks:showItem.html.twig', {'key': 'Teilnehmer', 'value': users }) }}

    {% set guests %}
        {% for guest in walk.getGuests %}
            {{ guest.getName }}
        {% else %}
            Es haben keine Gäste teilgenommen.
        {% endfor %}
    {% endset %}
    {{ include(':Walks:showItem.html.twig', {'key': 'Gäste', 'value': guests }) }}

    <h2>Wegpunkte dieser Runde</h2>

    {{ include (':WayPoint:wayPointOverview.html.twig', { 'wayPoints': walk.getWayPoints }) }}

{% endblock %}
